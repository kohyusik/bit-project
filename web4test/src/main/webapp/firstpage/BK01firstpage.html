<!DOCTYPE html>
<html lang="en">
<head>
<title>Free-sentation</title>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="shortcut icon" href="../favicon.ico">
<link rel="stylesheet" type="text/css" href="css/demo.css" />
<link rel="stylesheet" type="text/css" href="css/style.css" />
<link href='http://fonts.googleapis.com/css?family=Kelly+Slab'
	rel='stylesheet' type='text/css' />
<link rel="stylesheet"
	href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="css/login-demo.css" />
<link rel="stylesheet" type="text/css" href="css/login.css" />
<link rel="stylesheet" type="text/css"
	href="css/login-animate-custom.css" />

<!--[if lt IE 9]>
				<link rel="stylesheet" type="text/css" href="css/styleIE.css" />
		<![endif]-->
<script type="text/javascript" src="js/modernizr.custom.11333.js"></script>
<style>
body {
	background: url(./images/background.jpg) no-repeat center center fixed;
	-webkit-background-size: cover;
	-moz-background-size: cover;
	-o-background-size: cover;
	background-size: cover;
}

.fa {
	color: white;
}

#customBtn {
      display: inline-block;
      background: #cc3732;
      color: white;
      width: 175px;
      border-radius: 5px;
    }
    #customBtn:hover {
      background: #e74b37;
      cursor: hand;
    }
    span.label {
      font-weight: bold;
    }
    span.icon {
      background: url('https://google-developers.appspot.com/+/images/branding/btn_red_32.png') transparent 10px 50% no-repeat;
      display: inline-block;
      vertical-align: middle;
      width: 40px;
      height: 40px;
    }
    span.buttonText {
      display: inline-block;
      vertical-align: middle;
      padding-left: 40px;
      padding-right: 40px;
    }


</style>
</head>
<body>
	<div class="container">
		<div id="ss-links" class="ss-links">
			<a href="#zero" 'style="color: white;"'>login</a><br> <br>
			<a href="#first"><i class="fa fa-mobile fa-2x"></i></a> <a
				href="#second"><i class="fa fa-upload"></i></a> <a href="#third"><i
				class="fa fa-line-chart "></i></a> <a href="#fourth"><i
				class="fa fa-share-alt"></i></a> <a href="#fifth"><i
				class="fa fa-child fa-2x"></i></a>
		</div>
		<div id="ss-container" class="ss-container"
			style="padding-bottom: 120px;">
			<div class="ss-row"
				style="-webkit-perspective: 600px; -webkit-perspective-origin: 50% 0%; height: 250px; border-top-width: 20px; margin-top: 20px;">
				<div class="ss-left">
					<h2 id="zero">
						Free-sentation<br> <span style='font-size: 70%;'>produce,
							present in freedom</span>
					</h2>
				</div>
				<div class="ss-right">


  <span id="signinButton">
    <span
      class="g-signin"
      data-callback="signinCallback"
      data-clientid="3679365711-ilsb14e01shkrnbn2mag9jurhn9lsjnj.apps.googleusercontent.com"
      data-cookiepolicy="single_host_origin"
      data-requestvisibleactions="http://schemas.google.com/AddActivity"
      data-scope="https://www.googleapis.com/auth/plus.login
                  https://www.googleapis.com/auth/userinfo.email">
    </span>
  </span>
  <button id="revokeButton">로그아웃</button>
				</div>
			</div>
		</div>
		
		
		
<!--
  Below we include the Login Button social plugin. This button uses
  the JavaScript SDK to present a graphical Login button that triggers
  the FB.login() function when clicked.
-->

<fb:login-button scope="public_profile,email" data-auto-logout-link="true" onlogin="checkLoginState();">
</fb:login-button>
<button id="logout" onclick="testLogout();">out</button>

<div id="fb-root"></div>
<div class="fb-login-button" data-max-rows="1" data-size="medium" data-show-faces="false" data-auto-logout-link="true">
</div>

<div id="status">
</div>


		<div class="ss-row ss-medium">
			<div class="ss-left">
				<h2 id="first">
					<a class="ss-circle ss-circle-1"></a>
				</h2>
			</div>
			<div class="ss-right">
				<h3>
					<span>Web-Controller</span> <a> 프레젠테이션을 자유롭게!<br> 핸드폰 App
						Controller 지원
					</a>
				</h3>
			</div>
		</div>
		<div class="ss-row ss-large">
			<div class="ss-left">
				<h3>
					<span>Web-Editor</span> <a> 프로그램 설치에서 자유롭게! <br> 웹에서 편집,
						제작하는 프레젠테이션
					</a>
				</h3>
			</div>
			<div class="ss-right">
				<h2 id="second">
					<a class="ss-circle ss-circle-2"></a>
				</h2>
			</div>
		</div>
		<div class="ss-row ss-small">
			<div class="ss-left">
				<h2 id="third">
					<a class="ss-circle ss-circle-3">\</a>
				</h2>
			</div>
			<div class="ss-right">
				<h3>
					<span>Web-Viewer</span> <a> USB없이 자유롭게! <br> 이메일 로그인만으로
						프레젠테이션
					</a>
				</h3>
			</div>
		</div>
		<div class="ss-row ss-medium">
			<div class="ss-left">
				<h3>
					<span>Presentation-Share</span> <a>다양한 디자인과 정보의 <br>
						프레젠테이션 공유 지원
					</a>
				</h3>
			</div>
			<div class="ss-right">
				<h2 id="fourth">
					<a class="ss-circle ss-circle-4"></a>
				</h2>
			</div>
		</div>
		<div class="ss-row ss-large">
			<div class="ss-left">
				<h2 id="fifth">
					<a class="ss-circle ss-circle-5"></a>
				</h2>
			</div>
			<div class="ss-right">
				<h3>
					<span>5번</span> <a>짱짱 프렌테이션 </a>
				</h3>
			</div>
		</div>
	</div>
	<script type="text/javascript"
		src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script type="text/javascript" src="js/jquery.easing.1.3.js"></script>
	<script type="text/javascript">
		$(function() {

			var $sidescroll = (function() {

				// the row elements
				var $rows = $('#ss-container > div.ss-row'),
				// we will cache the inviewport rows and the outside viewport rows
				$rowsViewport, $rowsOutViewport,
				// navigation menu links
				$links = $('#ss-links > a'),
				// the window element
				$win = $(window),
				// we will store the window sizes here
				winSize = {},
				// used in the scroll setTimeout function
				anim = false,
				// page scroll speed
				scollPageSpeed = 2000,
				// page scroll easing
				scollPageEasing = 'easeInOutExpo',
				// perspective?
				hasPerspective = true,

				perspective = hasPerspective && Modernizr.csstransforms3d,
				// initialize function
				init = function() {

					// get window sizes
					getWinSize();
					// initialize events
					initEvents();
					// define the inviewport selector
					defineViewport();
					// gets the elements that match the previous selector
					setViewportRows();
					// if perspective add css
					if (perspective) {
						$rows.css({
							'-webkit-perspective' : 600,
							'-webkit-perspective-origin' : '50% 0%'
						});
					}
					// show the pointers for the inviewport rows
					$rowsViewport.find('a.ss-circle')
							.addClass('ss-circle-deco');
					// set positions for each row
					placeRows();

				},
				// defines a selector that gathers the row elems that are initially visible.
				// the element is visible if its top is less than the window's height.
				// these elements will not be affected when scrolling the page.
				defineViewport = function() {

					$.extend($.expr[':'], {

						inviewport : function(el) {
							if ($(el).offset().top < winSize.height) {
								return true;
							}
							return false;
						}

					});

				},
				// checks which rows are initially visible 
				setViewportRows = function() {

					$rowsViewport = $rows.filter(':inviewport');
					$rowsOutViewport = $rows.not($rowsViewport)

				},
				// get window sizes
				getWinSize = function() {

					winSize.width = $win.width();
					winSize.height = $win.height();

				},
				// initialize some events
				initEvents = function() {

					// navigation menu links.
					// scroll to the respective section.
					$links.on('click.Scrolling', function(event) {

						// scroll to the element that has id = menu's href
						$('html, body').stop().animate({
							scrollTop : $($(this).attr('href')).offset().top
						}, scollPageSpeed, scollPageEasing);

						return false;

					});

					$(window).on(
							{
								// on window resize we need to redefine which rows are initially visible (this ones we will not animate).
								'resize.Scrolling' : function(event) {

									// get the window sizes again
									getWinSize();
									// redefine which rows are initially visible (:inviewport)
									setViewportRows();
									// remove pointers for every row
									$rows.find('a.ss-circle').removeClass(
											'ss-circle-deco');
									// show inviewport rows and respective pointers
									$rowsViewport.each(function() {

										$(this).find('div.ss-left').css({
											left : '0%'
										}).end().find('div.ss-right').css({
											right : '0%'
										}).end().find('a.ss-circle').addClass(
												'ss-circle-deco');

									});

								},
								// when scrolling the page change the position of each row	
								'scroll.Scrolling' : function(event) {

									// set a timeout to avoid that the 
									// placeRows function gets called on every scroll trigger
									if (anim)
										return false;
									anim = true;
									setTimeout(function() {

										placeRows();
										anim = false;

									}, 10);

								}
							});

				},
				// sets the position of the rows (left and right row elements).
				// Both of these elements will start with -50% for the left/right (not visible)
				// and this value should be 0% (final position) when the element is on the
				// center of the window.
				placeRows = function() {

					// how much we scrolled so far
					var winscroll = $win.scrollTop(),
					// the y value for the center of the screen
					winCenter = winSize.height / 2 + winscroll;

					// for every row that is not inviewport
					$rowsOutViewport
							.each(function(i) {

								var $row = $(this),
								// the left side element
								$rowL = $row.find('div.ss-left'),
								// the right side element
								$rowR = $row.find('div.ss-right'),
								// top value
								rowT = $row.offset().top;

								// hide the row if it is under the viewport
								if (rowT > winSize.height + winscroll) {

									if (perspective) {

										$rowL
												.css({
													'-webkit-transform' : 'translate3d(-75%, 0, 0) rotateY(-90deg) translate3d(-75%, 0, 0)',
													'opacity' : 0
												});
										$rowR
												.css({
													'-webkit-transform' : 'translate3d(75%, 0, 0) rotateY(90deg) translate3d(75%, 0, 0)',
													'opacity' : 0
												});

									} else {

										$rowL.css({
											left : '-50%'
										});
										$rowR.css({
											right : '-50%'
										});

									}

								}
								// if not, the row should become visible (0% of left/right) as it gets closer to the center of the screen.
								else {

									// row's height
									var rowH = $row.height(),
									// the value on each scrolling step will be proporcional to the distance from the center of the screen to its height
									factor = (((rowT + rowH / 2) - winCenter) / (winSize.height / 2 + rowH / 2)),
									// value for the left / right of each side of the row.
									// 0% is the limit
									val = Math.max(factor * 50, 0);

									if (val <= 0) {

										// when 0% is reached show the pointer for that row
										if (!$row.data('pointer')) {

											$row.data('pointer', true);
											$row.find('.ss-circle').addClass(
													'ss-circle-deco');

										}

									} else {

										// the pointer should not be shown
										if ($row.data('pointer')) {

											$row.data('pointer', false);
											$row.find('.ss-circle')
													.removeClass(
															'ss-circle-deco');

										}

									}

									// set calculated values
									if (perspective) {

										var t = Math.max(factor * 75, 0), r = Math
												.max(factor * 90, 0), o = Math
												.min(Math.abs(factor - 1), 1);

										$rowL
												.css({
													'-webkit-transform' : 'translate3d(-'
															+ t
															+ '%, 0, 0) rotateY(-'
															+ r
															+ 'deg) translate3d(-'
															+ t + '%, 0, 0)',
													'opacity' : o
												});
										$rowR
												.css({
													'-webkit-transform' : 'translate3d('
															+ t
															+ '%, 0, 0) rotateY('
															+ r
															+ 'deg) translate3d('
															+ t + '%, 0, 0)',
													'opacity' : o
												});

									} else {

										$rowL.css({
											left : -val + '%'
										});
										$rowR.css({
											right : -val + '%'
										});

									}

								}

							});

				};

				return {
					init : init
				};

			})();

			$sidescroll.init();

		});
		
		  </script>
  <script src="https://apis.google.com/js/plusone.js" type="text/javascript"></script>
  <script type="text/javascript">
  /*
   * 로그인을 승인하거나, 취소하거나, 승인 대화상자를
   * 닫으면 실행됩니다.
   */
  function loginFinishedCallback(authResult) {
    if (authResult) {
      if (authResult['error'] == undefined){
        gapi.auth.setToken(authResult); // 반환된 토큰을 저장합니다.
        toggleElement('signin-button'); // 로그인에 성공하면 로그인을 숨깁니다.
        getEmail();                     // 이메일 주소 가져오기 요청을 실행합니다.
      } else {
        console.log('An error occurred');
      }
    } else {
      console.log('Empty authResult');  // 문제 발생
    }
  }

  /*
   * userinfo 끝점에 대한 요청을 실행하여 사용자의 이메일
   * 주소를 가져옵니다. 이 함수에는 유효한 OAuth 액세스 토큰이 포함된 gapi.auth.setToken이
   *  필요합니다.
   *
   * 요청이 완료되면 getEmailCallback이 실행되고 요청의 결과가
   * 전달됩니다.
   */
  function getEmail(){
    // userinfo 메소드를 사용할 수 있도록 oauth2 라이브러리를 로드합니다.
/*     gapi.client.load('oauth2', 'v2', function() {
          var request = gapi.client.oauth2.userinfo.get();
          request.execute(getEmailCallback);
        }); */
  }

  function getEmailCallback(obj){
    var el = document.getElementById('email');
    var email = '';

    if (obj['email']) {
      email = 'Email: ' + obj['email'];
    }

    console.log(obj);   // 전체 개체를 검사하려면 주석을 해제합니다.

    el.innerHTML = email;
    toggleElement('email');
  }

  function toggleElement(id) {
    var el = document.getElementById(id);
    if (el.getAttribute('class') == 'hide') {
      el.setAttribute('class', 'show');
    } else {
      el.setAttribute('class', 'hide');
    }
  }
  </script>
   <!-- 이 비동기 자바스크립트를 </body> 태그 앞에 배치 -->
    <script type="text/javascript">
      (function() {
       var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
       po.src = 'https://apis.google.com/js/client:plusone.js';
       var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
       var access_token;
       
     })();
      
      
      function signinCallback(authResult) {
        if (authResult['access_token']) {
          // 승인 성공
          // 사용자가 승인되었으므로 로그인 버튼 숨김. 예:
          document.getElementById('signinButton').setAttribute('style', 'display: none');
          access_token = authResult['access_token'];
          console.log('id_token: ' + authResult['id_token']);
          console.log('access_token: ' + authResult['access_token']);
          console.log('expires_in: ' + authResult['expires_in']);
          
        } else if (authResult['error']) {
          // 오류가 발생했습니다.
          // 가능한 오류 코드:
          //   "access_denied" - 사용자가 앱에 대한 액세스 거부
          //   "immediate_failed" - 사용자가 자동으로 로그인할 수 없음
           console.log('오류 발생: ' + authResult['error']);
        }
      }
      
      function disconnectUser() {
        var revokeUrl = 'https://accounts.google.com/o/oauth2/revoke?token=' +
            access_token;

        // 비동기 GET 요청을 수행합니다.
        $.ajax({
          type: 'GET',
          url: revokeUrl,
          async: false,
          contentType: "application/json",
          dataType: 'jsonp',
          success: function(nullResponse) {
            // 사용자가 연결 해제되었으므로 작업을 수행합니다.
            // 응답은 항상 정의되지 않음입니다.
           document.getElementById('signinButton').setAttribute('style', 'display: inline-block');
            console.log('ㄹㄹ');
          },
          error: function(e) {
            // 오류 처리
            console.log(e);
            // 실패한 경우 사용자가 수동으로 연결 해제하게 할 수 있습니다.
            //https://plus.google.com/apps
          }
        });
      }
      // 버튼 클릭으로 연결 해제를 실행할 수 있습니다.
      $('#revokeButton').click(disconnectUser);
      
    </script>
    <script src="https://apis.google.com/js/plusone.js" type="text/javascript"></script>
    <script>
  // This is called with the results from from FB.getLoginStatus().
  function statusChangeCallback(response) {
    console.log('statusChangeCallback');
    console.log(response);
    // The response object is returned with a status field that lets the
    // app know the current login status of the person.
    // Full docs on the response object can be found in the documentation
    // for FB.getLoginStatus().
    if (response.status === 'connected') {
      // Logged into your app and Facebook.
      testAPI();
    } else if (response.status === 'not_authorized') {
      // The person is logged into Facebook, but not your app.
      document.getElementById('status').innerHTML = 'Please log ' +
        'into this app.';
    } else {
      // The person is not logged into Facebook, so we're not sure if
      // they are logged into this app or not.
      document.getElementById('status').innerHTML = 'Please log ' +
        'into Facebook.';
    }
  }

  // This function is called when someone finishes with the Login
  // Button.  See the onlogin handler attached to it in the sample
  // code below.
  function checkLoginState() {
    FB.getLoginStatus(function(response) {
      statusChangeCallback(response);
    });
  }

  window.fbAsyncInit = function() {
  FB.init({
    appId      : '801308976651678',
    cookie     : true,  // enable cookies to allow the server to access 
                        // the session
    xfbml      : true,  // parse social plugins on this page
    version    : 'v2.3' // use version 2.2
  });

  // Now that we've initialized the JavaScript SDK, we call 
  // FB.getLoginStatus().  This function gets the state of the
  // person visiting this page and can return one of three states to
  // the callback you provide.  They can be:
  //
  // 1. Logged into your app ('connected')
  // 2. Logged into Facebook, but not your app ('not_authorized')
  // 3. Not logged into Facebook and can't tell if they are logged into
  //    your app or not.
  //
  // These three cases are handled in the callback function.

  FB.getLoginStatus(function(response) {
    statusChangeCallback(response);
  });
  

  };

  // Load the SDK asynchronously
  (function(d, s, id){
       var js, fjs = d.getElementsByTagName(s)[0];
       if (d.getElementById(id)) {return;}
       js = d.createElement(s); js.id = id;
       js.src = "//connect.facebook.net/en_US/sdk.js";
       fjs.parentNode.insertBefore(js, fjs);
     }(document, 'script', 'facebook-jssdk'));

  // Here we run a very simple test of the Graph API after login is
  // successful.  See statusChangeCallback() for when this call is made.
  function testAPI() {
    console.log('Welcome!  Fetching your information.... ');
    FB.api('/me', function(response) {
      console.log('Successful login for: ' + response.name + response.email);
      document.getElementById('status').innerHTML =
        'Thanks for logging in, ' + response.name + '!';
    });
  }
  
  function testLogout() {
    FB.logout(function(response) {
        // user is now logged out
        console.log("logout..");
          document.getElementById('status').innerHTML = 'Bye !';
      });
  }
</script>
</body>
</html>